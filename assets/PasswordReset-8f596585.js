import{c as p,u as h,r as n,a as e,j as d,Q as a}from"./index-113eb709.js";import{a as f}from"./axios-439bb627.js";const N=()=>{const{token:c}=p(),w=h(),[t,m]=n.useState(""),[l,u]=n.useState(""),[o,i]=n.useState(!1);return e("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:d("form",{onSubmit:async s=>{if(s.preventDefault(),t!==l){a.error("Passwords do not match.");return}i(!0);try{await f.post(`http://localhost:3001/api/password-reset/${c}`,{password:t},{withCredentials:!0}),a.success("Password has been reset successfully. You can now log in with your new password."),w("/admin/login")}catch(r){console.error("Password reset error:",r),r.response&&r.response.data&&r.response.data.error?a.error(r.response.data.error):a.error("Failed to reset password.")}i(!1)},className:"p-6 bg-white shadow-md rounded w-full max-w-sm",children:[e("h2",{className:"text-2xl mb-4 text-center",children:"Set New Password"}),d("div",{className:"mb-4",children:[e("label",{htmlFor:"password",className:"block text-gray-700 font-medium mb-1",children:"New Password:"}),e("input",{type:"password",id:"password",placeholder:"Enter new password",value:t,onChange:s=>m(s.target.value),className:"border p-2 w-full rounded",required:!0,"aria-label":"New Password"})]}),d("div",{className:"mb-4",children:[e("label",{htmlFor:"confirmPassword",className:"block text-gray-700 font-medium mb-1",children:"Confirm New Password:"}),e("input",{type:"password",id:"confirmPassword",placeholder:"Confirm new password",value:l,onChange:s=>u(s.target.value),className:"border p-2 w-full rounded",required:!0,"aria-label":"Confirm New Password"})]}),e("button",{type:"submit",className:`w-full bg-green-500 text-white py-2 rounded hover:bg-green-600 transition duration-200 ${o?"opacity-50 cursor-not-allowed":""}`,disabled:o,children:o?"Resetting...":"Reset Password"})]})})};export{N as default};
